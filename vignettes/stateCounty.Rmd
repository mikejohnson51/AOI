---
title: "State & County AOIs: Fiat Boundaries"
vignette: >
  %\VignetteIndexEntry{pkgdown}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 6, 
  fig.height = 4
)

devtools::load_all()
library(leaflet)
library(sp)

col  = '#1c26a9'
col1 = '#212f3f'
```

The main function in the AOI package is `getAOI`. Three main parameters are used to define explicit AOI queries:  *state*, *county*, and *clip*. This page illustrates how the state and county parameters can be used define  a query, while the [Clip Areas](./articles/clipAreas.html) page describes the clip parameters.

# Data

AOI offers to in-package datasets represting the spatial boundaries of USA states and counties. The can be accessed via the county and state data object calls. Each dataset contains information relating to the features name, state, FIP code, and other identifiy codes. Help of each dataset can be found using the `?` call. 

```{r}
states
counties
```

# Defining an AOI by **state**  

An AOI can be defined by a **state** name or abbreviation:

```{r, message = FALSE}
CA = getAOI(state = 'CA')
```

```{r, echo = FALSE}
leaflet(option=leafletOptions(zoomControl= FALSE, minZoom = 5, maxZoom = 5)) %>% addProviderTiles(providers$CartoDB.Positron) %>% addPolygons(data = CA,fillColor = col, color = col1, weight = 2)
```

<br>
<br>
A query can also be defined using multiple **states** provided as a vector:

```{r, message = FALSE}
WestCoast = getAOI(state = c("Oregon", "Washington", "CA"))
```

```{r, echo = FALSE}
leaflet(option=leafletOptions(zoomControl= FALSE, minZoom = 4, maxZoom = 4)) %>% addProviderTiles(providers$CartoDB.Positron) %>% addPolygons(data = WestCoast,fillColor = col, color = col1, weight = 1)
```

<br>

If you want to get the boundaries of a state with the county features intact, simply call getAOI and set `county = 'all'`

```{r, message = FALSE}
AL = getAOI(state = "AL", county = 'all')
```

```{r, echo = FALSE}
leaflet(option=leafletOptions(zoomControl= FALSE, minZoom = 6, maxZoom = 4)) %>% addProviderTiles(providers$CartoDB.Positron) %>% addPolygons(data = AL,fillColor = col, color = col1, weight = 1)
```

# Defining a **county** AOI 

Defining an AOI by **county** requires a **state** as well:

```{r, message = FALSE}
EP = getAOI(state = "CO", county = "El Paso")
```

```{r, echo = FALSE}
leaflet() %>% addProviderTiles(providers$CartoDB.Positron) %>% addPolygons(data = EP,fillColor = col, color = col1, weight = 4)
```

<br>
<br>
Multiple counties can be queried if provided as a vector:

```{r, message = F}
centralCoast = getAOI(state ="CA", county = c("Santa Barbara", "San Luis Obispo", "Ventura"))
```

```{r, echo = FALSE}
leaflet(option=leafletOptions(zoomControl= FALSE, minZoom = 7, maxZoom = 7)) %>% addProviderTiles(providers$CartoDB.Positron) %>% addPolygons(data = centralCoast,fillColor = col, color = col1, weight = 2)
```

<br>
<br>
Cross-state pairs can be called as well if provided as a vector:

```{r, message = F}
twoCounty = getAOI(state =c("CA", "CO"), county = c("Santa Barbara", "El Paso"))
```

```{r, echo = FALSE}
leaflet(option=leafletOptions(zoomControl= FALSE, minZoom = 5, maxZoom = 5)) %>% addProviderTiles(providers$CartoDB.Positron) %>% addPolygons(data = twoCounty, fillColor = col, color = col1, weight = 2)
```
<br>

#Additional Calls

###Bounding Box of States / Counties

```{r, messages = FALSE}
AOI = getAOI(state = "WI", bb = TRUE) %>% check()
```

```{r, echo = F}
AOI$map
```


Now that you have a good understanding of how to call existing fiat boundaries take a look at the [Clip Areas](./articles/clipAreas.html) page to learn how to define your own extents!
