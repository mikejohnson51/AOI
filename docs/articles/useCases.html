<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Use Cases • Areas of Interest: AOI   </title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Use Cases">
<meta property="og:description" content="">
<meta property="og:image" content="https://github.com/mikejohnson51/AOI/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Areas of Interest: AOI   </a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/geocode.html">Geocoding</a>
    </li>
    <li>
      <a href="../articles/stateCounty.html">State &amp; County AOI</a>
    </li>
    <li>
      <a href="../articles/clipAreas.html">Clip based AOI</a>
    </li>
    <li>
      <a href="../articles/tools.html">AOI Tools</a>
    </li>
    <li>
      <a href="../articles/useCases.html">Use Cases</a>
    </li>
  </ul>
</li>
<li>
  <a href="../AOI.pdf">
    <span class="fa fa-file"></span>
     
    Package Manual
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mikejohnson51/AOI/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><script src="useCases_files/htmlwidgets-1.2/htmlwidgets.js"></script><script src="useCases_files/jquery-1.12.4/jquery.min.js"></script><link href="useCases_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="useCases_files/leaflet-1.3.1/leaflet.js"></script><link href="useCases_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="useCases_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="useCases_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="useCases_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="useCases_files/leaflet-binding-2.0.1/leaflet.js"></script><script src="useCases_files/leaflet-providers-1.1.17/leaflet-providers.js"></script><script src="useCases_files/leaflet-providers-plugin-2.0.1/leaflet-providers-plugin.js"></script><link href="useCases_files/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet">
<script src="useCases_files/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script><script src="useCases_files/leaflet-minimap-3.3.1/Minimap-binding.js"></script><link href="useCases_files/leaflet-measure-2.1.7/leaflet-measure.css" rel="stylesheet">
<script src="useCases_files/leaflet-measure-2.1.7/leaflet-measure.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Use Cases</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mikejohnson51/AOI//blob/master/vignettes/useCases.Rmd"><code>vignettes/useCases.Rmd</code></a></small>
      <div class="hidden name"><code>useCases.Rmd</code></div>

    </div>

    
    
<p>The AOI package was not developed for isolated use but rather to ease the use of many great spatial packages in the R ecosystem. Here, a few case studies will be demonstrated but it should be emphasized these represent only a small fraction of the packages and services available. If you find a use or a need please file an <a href="https://github.com/mikejohnson51/AOI/issues">issue</a> to get it included!</p>
<div id="soildb" class="section level1">
<h1 class="hasAnchor">
<a href="#soildb" class="anchor"></a>soilDB</h1>
<p>The <a href="https://github.com/ncss-tech/soilDB">soilDB</a> package provides streamlined access to the NCSS soil databases. <code>fetchKSSL</code> gets soil characterization and morphologic data from a bounding box from the KSSL database. These calls must be provided in [xmax,ymin,xmin,ymax] order setting up a nice use case for <code>bbox_st</code>. Here, we want to find the KSSL data for 30 mile by 30 mile squared region centered on Temecula California.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bb =<span class="st"> </span><span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="dt">clip =</span> <span class="kw">list</span>(<span class="st">"Temecula"</span> , <span class="dv">30</span>, <span class="dv">30</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/bbox_st.html">bbox_st</a></span>()

soils =<span class="st"> </span>soilDB<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/soilDB/topics/fetchKSSL">fetchKSSL</a></span>(<span class="dt">bbox=</span><span class="kw">c</span>(bb<span class="op">$</span>xmax, bb<span class="op">$</span>ymin, bb<span class="op">$</span>xmin, bb<span class="op">$</span>ymax))

<span class="kw">str</span>(soils, <span class="dt">max.level =</span> <span class="dv">2</span>)
<span class="co">#&gt; Formal class 'SoilProfileCollection' [package "aqp"] with 7 slots</span>
<span class="co">#&gt;   ..@ idcol     : chr "pedon_key"</span>
<span class="co">#&gt;   ..@ depthcols : chr [1:2] "hzn_top" "hzn_bot"</span>
<span class="co">#&gt;   ..@ metadata  :'data.frame':   1 obs. of  1 variable:</span>
<span class="co">#&gt;   ..@ horizons  :'data.frame':   100 obs. of  71 variables:</span>
<span class="co">#&gt;   ..@ site      :'data.frame':   16 obs. of  32 variables:</span>
<span class="co">#&gt;   ..@ sp        :Formal class 'SpatialPoints' [package "sp"] with 3 slots</span>
<span class="co">#&gt;   ..@ diagnostic:'data.frame':   0 obs. of  0 variables</span></code></pre></div>
</div>
<div id="hydrodata" class="section level1">
<h1 class="hasAnchor">
<a href="#hydrodata" class="anchor"></a>HydroData</h1>
<p>The <a href="https://github.com/ncss-tech/soilDB">HydroData</a> package offers quick access to geospatial earth systems data for an area of interest. In total the packages offers access to 20+ data sources as well as visualization functions. Here we can chain an AOI call for the 100sqmile region surrounding UCSB to a series of HydroData function to the HydroData calls to get NHD flowlines. NHD waterbodies and USGS NWIS stations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
AOI =<span class="st"> </span><span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="kw">list</span>(<span class="st">"UCSB"</span>, <span class="dv">10</span>, <span class="dv">10</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>HydroData<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/HydroData/topics/findNHD">findNHD</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>HydroData<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/HydroData/topics/findWaterbodies">findWaterbodies</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>HydroData<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/HydroData/topics/findGHCN">findGHCN</a></span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>HydroData<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/HydroData/topics/explore">explore</a></span>()
<span class="co">#&gt; Returned object contains: 100 nhd flowlines </span>
<span class="co">#&gt; Returned object contains: 11 NHD waterbodies </span>
<span class="co">#&gt; Returned object contains: 6 unique GHCN station(s)</span></code></pre></div>
</div>
<div id="rayshader" class="section level1">
<h1 class="hasAnchor">
<a href="#rayshader" class="anchor"></a>Rayshader</h1>
<p><a href="https://github.com/tylermorganwall/rayshader">Rayshader</a> is a package for generating beautiful hillshade maps of elevation matrices. Here we pipe the AOI seen above to HydroData findNED (find data from the USGS National Elevation Dataset) to get a elevation tiff to pass to the rayshader functionalities.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rayshader)

AOI =<span class="st"> </span><span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="dt">clip =</span> <span class="kw">list</span>(<span class="st">"UCSB"</span>, <span class="dv">10</span>, <span class="dv">30</span>)) <span class="op">%&gt;%</span><span class="st"> </span>HydroData<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/HydroData/topics/findNED">findNED</a></span>()

ned =<span class="st"> </span><span class="kw">matrix</span>(raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extract">extract</a></span>(AOI<span class="op">$</span>NED,raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/extent">extent</a></span>(AOI<span class="op">$</span>NED),<span class="dt">buffer=</span><span class="dv">1000</span>),
               <span class="dt">nrow=</span><span class="kw">ncol</span>(AOI<span class="op">$</span>NED),<span class="dt">ncol=</span><span class="kw">nrow</span>(AOI<span class="op">$</span>NED))

ned <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/rayshader/topics/sphere_shade">sphere_shade</a></span>(<span class="dt">texture =</span> <span class="st">"imhof1"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/rayshader/topics/add_water">add_water</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/rayshader/topics/detect_water">detect_water</a></span>(ned), <span class="dt">color=</span><span class="st">"desert"</span>) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/rayshader/topics/add_shadow">add_shadow</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/rayshader/topics/ray_shade">ray_shade</a></span>(ned)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/rayshader/topics/add_shadow">add_shadow</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/rayshader/topics/ambient_shade">ambient_shade</a></span>(ned)) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/rayshader/topics/write_png">write_png</a></span>(<span class="dt">filename =</span> <span class="kw">paste0</span>(<span class="kw">getwd</span>(), <span class="st">"/rayshade_ex.png"</span>))
  </code></pre></div>
<div class="figure">
<img src="imgs/rayshade_ex.png">
</div>
</div>
<div id="nwm" class="section level1">
<h1 class="hasAnchor">
<a href="#nwm" class="anchor"></a>NWM</h1>
<p><a href="https://github.com/mikejohnson51/NWM/">NWM</a> is a new package interfacing with the NOAA National Water Model. Here we use the AOI package to define and the 100sqmile region surrounding Devils Tower, South Dakota and extract the modeled evapotranspiration for four timeslices:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
files =<span class="st"> </span>nwm<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/nwm/topics/getFilelist">getFilelist</a></span>(<span class="dt">type =</span> <span class="st">'land'</span>, <span class="dt">date =</span> <span class="st">"20180803"</span>, <span class="dt">t =</span> <span class="dv">0</span>, <span class="dt">f =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>,<span class="dv">12</span>))

AOI =<span class="st"> </span><span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="dt">clip =</span> <span class="kw">list</span>(<span class="st">"Devils Tower, WY"</span>, <span class="dv">10</span>, <span class="dv">10</span>)) <span class="op">%&gt;%</span><span class="st"> </span>nwm<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/nwm/topics/downloadNWM">downloadNWM</a></span>(files, <span class="dt">param =</span> <span class="st">'accet'</span>)

rasterVis<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/rasterVis/topics/levelplot-methods">levelplot</a></span>(AOI<span class="op">$</span>accet, 
                     <span class="dt">main =</span> <span class="st">"National Water Model: Accumulated ET"</span>, 
                     <span class="dt">names.attr =</span> <span class="kw">as.character</span>(nwm<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/nwm/topics/getGridTime">getGridTime</a></span>(AOI<span class="op">$</span>accet)),
                     <span class="dt">col.regions =</span> <span class="kw">colorRampPalette</span>(<span class="kw">brewer.pal</span>(<span class="dv">9</span>,<span class="st">"YlOrRd"</span>)))</code></pre></div>
<p><img src="useCases_files/figure-html/unnamed-chunk-4-1.png" width="576"></p>
</div>
<div id="feddata" class="section level1">
<h1 class="hasAnchor">
<a href="#feddata" class="anchor"></a>FedData</h1>
<p><a href="https://github.com/ropensci/FedData">FedData</a> is a useful package for automatically downloading federal datasets. Here we chain chain the <code>get_ssurgo</code> function to an AOI call to quickly get a soils map from the SSURGO database for the 100sqmile regions surrounding Boulder, Colorado.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">AOI =<span class="st"> </span><span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="dt">clip =</span> <span class="kw">list</span>(<span class="st">"Boulder"</span>, <span class="dv">10</span>, <span class="dv">10</span>)) <span class="op">%&gt;%</span><span class="st"> </span>FedData<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/FedData/topics/get_ssurgo">get_ssurgo</a></span>(<span class="dt">label =</span> <span class="st">"test"</span>)

<span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">data =</span> AOI<span class="op">$</span>spatial, <span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, <span class="dt">group =</span> group, <span class="dt">fill =</span> id), <span class="dt">color =</span> <span class="st">'gray'</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill=</span><span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Boulder Soils MUSYM"</span>) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">30</span>))
<span class="co">#&gt; Regions defined for each Polygons</span></code></pre></div>
<p><img src="useCases_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
</div>
<div id="osmdata" class="section level1">
<h1 class="hasAnchor">
<a href="#osmdata" class="anchor"></a>OSMDATA</h1>
<p>Open Street Map provides one of the most extensive databases/cartographic representations of the world and the <a href="https://github.com/ropensci/osmdata">osmdata</a> packages offers an interface to this resource. Here we look at answering the question “Where are the bike paths near my office in Ellison Hall?”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">office =<span class="st"> </span><span class="kw"><a href="../reference/geocode.html">geocode</a></span>(<span class="st">"UCSB"</span>)

AOI =<span class="st"> </span><span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="dt">clip =</span> <span class="kw">list</span>(office<span class="op">$</span>lat, office<span class="op">$</span>lon, <span class="dv">2</span>, <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/bbox_st.html">bbox_st</a></span>()

q0 =<span class="st"> </span><span class="kw">opq</span>(<span class="dt">bbox =</span> <span class="kw">c</span>(AOI<span class="op">$</span>xmin, AOI<span class="op">$</span>ymin, AOI<span class="op">$</span>xmax, AOI<span class="op">$</span>ymax)) <span class="op">%&gt;%</span>
<span class="st">     </span><span class="kw">add_osm_feature</span> (<span class="dt">key=</span><span class="st">"highway"</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">     </span><span class="kw">osmdata_sp</span>() 

roads =<span class="st"> </span>q0<span class="op">$</span>osm_lines

{
 <span class="kw">par</span>(<span class="dt">mar=</span><span class="kw">c</span>(.<span class="dv">1</span>,.<span class="dv">1</span>,<span class="dv">2</span>,.<span class="dv">1</span>))
 <span class="kw">plot</span>(roads, <span class="dt">main =</span> <span class="st">"Bike Paths Near My Office"</span>, <span class="dt">cex.main =</span> <span class="dv">2</span>)
 <span class="kw">plot</span>(roads[roads<span class="op">$</span>bicycle <span class="op">==</span><span class="st">"yes"</span>, ], <span class="dt">col=</span> <span class="st">"red"</span>, <span class="dt">add =</span> T, <span class="dt">lwd =</span> <span class="dv">3</span>)
 <span class="kw">points</span>(<span class="dt">x =</span> office<span class="op">$</span>lon, <span class="dt">y =</span> office<span class="op">$</span>lat, <span class="dt">col =</span> <span class="st">'blue'</span>, <span class="dt">cex =</span> <span class="dv">2</span>, <span class="dt">pch =</span> <span class="dv">16</span>)
}</code></pre></div>
<p><img src="useCases_files/figure-html/unnamed-chunk-6-1.png" width="576"></p>
</div>
<div id="worldclim" class="section level1">
<h1 class="hasAnchor">
<a href="#worldclim" class="anchor"></a>WorldClim</h1>
<p>The WorldClim dataset offers a set of global climate layers and ships with the <a href="https://cran.r-project.org/web/packages/raster/raster.pdf">raster</a> package. Here we download and sub set the mean temperature data for the state of Colorado.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
r &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/getData">getData</a></span>(<span class="st">"worldclim"</span>, <span class="dt">var =</span> <span class="st">'tmean'</span>, <span class="dt">res=</span><span class="dv">10</span>)

rr =<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/crop">crop</a></span>(r, <span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="dt">state =</span> <span class="st">"CO"</span>))

rasterVis<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/rasterVis/topics/levelplot-methods">levelplot</a></span>(rr<span class="op">/</span><span class="dv">10</span>, 
                     <span class="dt">names.attr =</span> month.name,
                     <span class="dt">main =</span> <span class="st">"Colorado Average Monthly Tempertures"</span>)</code></pre></div>
<p><img src="useCases_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
</div>
<div id="rosm-basemaps" class="section level1">
<h1 class="hasAnchor">
<a href="#rosm-basemaps" class="anchor"></a>ROSM Basemaps</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rosm)
bb =<span class="st"> </span><span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="dt">clip =</span> <span class="kw">list</span>(<span class="st">"Lake Cachuma"</span>, <span class="dv">20</span>,<span class="dv">20</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/rosm/topics/osm.plot">osm.plot</a></span>(<span class="dt">type=</span><span class="st">"stamenbw"</span>)</code></pre></div>
<p><img src="useCases_files/figure-html/unnamed-chunk-8-1.png" width="576"></p>
<div id="usgs-r-geoknife" class="section level2">
<h2 class="hasAnchor">
<a href="#usgs-r-geoknife" class="anchor"></a>USGS-R Geoknife</h2>
<p>The USGS geoknife package provides a unique interface to large-scale climate datasets. One example of these is the LOCA Downscaled climate product. Here, we are interested in finding predicted maximum daily temperture values for the Santa Barbara area in October of 2080 under two climate scenarios - RCP 4.5 and 8.5. This example is basic and developed to highlight the use of AOI with the geoknife package. A more in depth example of the geoknife package can be found <a href="https://owi.usgs.gov/blog/LOCAdownscaling/">here</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">library</span>(geoknife)

AOI =<span class="st"> </span><span class="kw"><a href="../reference/getAOI.html">getAOI</a></span>(<span class="st">"Santa Barbara"</span>)

AOI<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/AOI/topics/check">check</a></span>(AOI)</code></pre></div>
<div id="htmlwidget-6f048663270b1386690a" style="width:576px;height:384px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6f048663270b1386690a">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.NatGeoWorldMap",null,"Terrain",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["CartoDB.Positron",null,"Grayscale",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",null,"Imagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addMiniMap","args":[null,null,"bottomright",150,150,19,19,-5,false,false,false,true,false,true,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]},{"method":"addMeasure","args":[{"position":"bottomleft","primaryLengthUnit":"feet","primaryAreaUnit":"sqmiles","activeColor":"red","completedColor":"green","popupOptions":{"className":"leaflet-measure-resultpopup","autoPanPadding":[10,10]},"captureZIndex":10000,"localization":"en","decPoint":".","thousandsSep":","}]},{"method":"addLayersControl","args":[["Terrain","Grayscale","Imagery"],[],{"collapsed":true,"autoZIndex":true,"position":"topright"}]},{"method":"addPolygons","args":[[[[{"lng":[-119.859791,-119.6399201,-119.6399201,-119.859791,-119.859791],"lat":[34.4611451,34.4611451,34.336029,34.336029,34.4611451]}]]],null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":1,"fill":true,"fillColor":"transparent","fillOpacity":0.2,"smoothFactor":1,"noClip":false},null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[34.336029,34.4611451],"lng":[-119.859791,-119.6399201]}},"evals":[],"jsHooks":[]}</script><div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
stencil =<span class="st"> </span>AOI <span class="op">%&gt;%</span><span class="st"> </span>sp<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/sp/topics/spTransform">spTransform</a></span>(<span class="st">"+proj=longlat +datum=WGS84"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/geoknife/topics/simplegeom-methods">simplegeom</a></span>()

fabric &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/geoknife/topics/webdata-methods">webdata</a></span>(<span class="dt">url =</span> <span class="st">'http://cida.usgs.gov/thredds/dodsC/loca_future'</span>,
                  <span class="dt">variables =</span> <span class="kw">c</span>(<span class="st">"tasmax_CCSM4_r6i1p1_rcp45"</span>, <span class="st">"tasmax_CCSM4_r6i1p1_rcp85"</span>),
                  <span class="dt">times =</span> <span class="kw">c</span>(<span class="st">'2080-10-01'</span>, <span class="st">'2080-10-31'</span>)
                  )

knife &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/geoknife/topics/webprocess-methods">webprocess</a></span>(<span class="dt">STATISTICS =</span> <span class="st">"MEAN"</span>, <span class="dt">wait =</span> <span class="ot">TRUE</span>)

job &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/geoknife/topics/geoknife-methods">geoknife</a></span>(stencil, fabric, knife)

xx =<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/geoknife/topics/result-methods">result</a></span>(job)

<span class="kw">ggplot</span>(xx) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> xx<span class="op">$</span>DateTime, <span class="dt">y =</span> xx<span class="op">$</span>ID1, <span class="dt">color =</span> xx<span class="op">$</span>variable)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"October 2080 Max Temperture: LOCA"</span>, 
       <span class="dt">x =</span> <span class="st">"Date"</span>, 
       <span class="dt">y =</span> <span class="st">"Degrees C"</span>, 
       <span class="dt">color =</span> <span class="st">"RCP Pathway"</span>)</code></pre></div>
<p><img src="useCases_files/figure-html/unnamed-chunk-9-2.png" width="576"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#soildb">soilDB</a></li>
      <li><a href="#hydrodata">HydroData</a></li>
      <li><a href="#rayshader">Rayshader</a></li>
      <li><a href="#nwm">NWM</a></li>
      <li><a href="#feddata">FedData</a></li>
      <li><a href="#osmdata">OSMDATA</a></li>
      <li><a href="#worldclim">WorldClim</a></li>
      <li>
<a href="#rosm-basemaps">ROSM Basemaps</a><ul class="nav nav-pills nav-stacked">
<li><a href="#usgs-r-geoknife">USGS-R Geoknife</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Mike Johnson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
